<!DOCTYPE html PUBLIC>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Thoughts and ranting of a software developer.</title>

  <link href='../assets/main.css' rel='stylesheet' type='text/css'>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body> 
    <header>
        <div class="container">
            <h1 class="logo">
               <a href="podmanminecraft.html"><img src="https://s.gravatar.com/avatar/3c844e4ff6088ba56ad3e28d7816e48c?s=60" style="border-radius: 50%;"></a>
            </h1>
            <nav class="site-nav">
                <ul>
                    <li><a href="archive.html">Archive</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <div class="container">      
        <div id="content"><div><h2 id="post_title">Windows 8 and low disk space</h2><p id="post_date">October 30, 2013</p><div id="post_body" class="page_body"><p>With 1TB hard disk drive, no one really cares about the amount of space taken by OS. But after switching to a much smaller drive, 120GB SSD, space on drive <code>C:\</code> becomes precious. So it was very surprising to me to see only 50GB free just after installing Win 8.1 on an empty drive.
</p>

<p>Full installation of Win 8.1 takes only about 15GB. Where did the rest 50GB go?</p>

  <p>Running Disk Cleanups didn't reveal any magical space drainage either. 
  I even suspected a few SSD chips gone bad and now half of the drive is simply unusable.
  </p>

  <p>Turns out, Windows has two very hidden files <code>C:\pagefile.sys</code> and 
  <code>C:\hiberfil.sys</code>. So hidden that if you turn on the show hidden 
  files feature in windows explorer, they still remain hidden. Even if you run 
  <code>C:\&gt;dir</code> as Administrator you won't see them. 
  I only came across them by accident with Cygwin.</p>
 
  <p><ul>
   <li><code>pagefile.sys</code> is a Windows version of swap partition. 
       It is typically the size equal to the amount of system's ram
       and in my case it's a whooping 32GB file. Pagefiles can be disabled 
       all-together, moved to a different drive or modified to a custom size 
       but by default they seem to be same size as ram on <code>C:\</code>
   </li>
   <li><code>hiberfil.sys</code> The secret sauce behind Windows fast 
       boot-up and the cache file for OS state when hibernating. 
       Also typically large, on my system - 26GB.
   </li>
  </ul></p>
  
  Finally windows space allocation is making sense.
</div></div></div>
        <footer>
          <div text-align="center">
            <small><a href="https://twitter.com/vitalius_">twitter</a> &middot; 
                   <a href="http://github.com/vitalius">github</a> &middot; 
                   <a href="mailto:vitaliy@cloudmotion.com">vitaliy@cloudmotion.com</a>
            </small>
          </div>
       </footer>
     </div>
  
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35379573-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>  
    
</body>
</html>
