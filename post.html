<!-- Post -->
<div ng-controller="PostCtrl">
    <div ng-hide="post.error">
    
        <div class="panel panel-default">
          <!-- post header -->
          <div ng-show="post.title" class="panel-heading">
            <h3 class="panel-title">{{ post.title }}</h3>
          </div>         
          
          <!-- post body -->
          <div ng-bind-html-unsafe="post.body" class="panel-body" id="post_body"></div>
          
          <!-- post footer -->
          <div class="panel-footer">
            <div class="clearfix">
            <span ng-show="post.date" class="pull-left">Date: {{ post.date | date:'shortDate' }}</span>
            <span ng-show="post.author" class="pull-right">by {{ post.author }}</span>
            </div>
          </div>           
        </div> 

        <div class="panel panel-default">
          <div class="panel-body">
            <div id="disqus_thread"></div>
          </div>
        </div>       
        
    </div>        
    <div ng-show="post.error" class="alert alert-danger">{{ post.error }}</div>
</div>

<!-- MathJax -->
<script type='text/javascript' src='http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
<script type='text/x-mathjax-config'>
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(','\\)'] ],
        displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
        processEscapes: true
      }
    });
</script> 

<!-- Disqus -->
<script type="text/javascript">
  function loadDisqus() {
    // http://docs.disqus.com/help/2/
    window.disqus_shortname = 'vitaliy-blog';
    window.disqus_identifier = location.href;
    window.disqus_title = location.href;
    
    /*
    if (location.host == 'localhost') {
      window.disqus_developer = 1;
    }
    */
    
    // http://docs.disqus.com/developers/universal/
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://angularjs.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] ||
        document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    angular.element(document.getElementById('disqus_thread')).html(''); 
  }

  loadDisqus();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
